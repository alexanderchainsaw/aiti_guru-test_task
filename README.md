# üßæ AITI Guru ‚Äî –¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ

–°–µ—Ä–≤–∏—Å –Ω–∞ **FastAPI** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞–º–∏, –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏, —Ç–æ–≤–∞—Ä–∞–º–∏ –∏ –∑–∞–∫–∞–∑–∞–º–∏.  
–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—É—é —Å—Ö–µ–º—É PostgreSQL —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π **–∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ª—é–±–æ–π –≥–ª—É–±–∏–Ω—ã**, —É—á—ë—Ç–æ–º –æ—Å—Ç–∞—Ç–∫–æ–≤ –Ω–∞ —Å–∫–ª–∞–¥–µ –∏ REST API –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∑–∞–∫–∞–∑.

---

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –†–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (PostgreSQL):
  - –ö–ª–∏–µ–Ω—Ç—ã  
  - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤ (–¥–µ—Ä–µ–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —á–µ—Ä–µ–∑ closure table, –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é —Ç—Ä–∏–≥–≥–µ—Ä–∞)
  - –¢–æ–≤–∞—Ä—ã  
  - –ó–∞–∫–∞–∑—ã –∏ –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–æ–≤  
  - –°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤ –∏ –∏—Å—Ç–æ—Ä–∏—è –∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π (–∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —á–µ—Ä–µ–∑ —Ç—Ä–∏–≥–≥–µ—Ä)
- REST API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∑–∞–∫–∞–∑–∞–º–∏:
  - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ –∑–∞–∫–∞–∑ (`POST /v1/orders/{order_id}/product`)
  - –ï—Å–ª–∏ —Ç–æ–≤–∞—Ä —É–∂–µ –≤ –∑–∞–∫–∞–∑–µ ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å—Ç–∞—Ç–∫–æ–≤ –Ω–∞ —Å–∫–ª–∞–¥–µ –∏ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ
- –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ SQL-–∑–∞–ø—Ä–æ—Å—ã:
  - –¢–æ–ø-5 —Å–∞–º—ã—Ö –ø—Ä–æ–¥–∞–≤–∞–µ–º—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–µ—Å—è—Ü  
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL —á–µ—Ä–µ–∑ **asyncpg**
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π —Å –ø–æ–º–æ—â—å—é **Dishka**
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ª–∏–Ω—Ç–∏–Ω–≥ (**Black**, **isort**, **Ruff**)
- –ì–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É –≤ Docker

---

## üß© –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è |
|------------|-------------|
| –Ø–∑—ã–∫ | Python 3.13+ |
| –í–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ | FastAPI |
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | PostgreSQL |
| –†–∞–±–æ—Ç–∞ —Å –ë–î | asyncpg |
| DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä | Dishka |
| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | pydantic-settings |
| –ú–∏–≥—Ä–∞—Ü–∏–∏ | yoyo-migrations |
| –õ–∏–Ω—Ç–µ—Ä—ã –∏ —Å—Ç–∏–ª—å | Ruff, Black, isort |
| –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è | Docker Compose |

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
app
   |-- api
   |   |-- __main__.py
   |   |-- v1
   |   |   |-- __init__.py
   |   |   |-- views
   |   |   |   |-- orders
   |   |   |   |   |-- views.py
   |-- config.py
   |-- migrations.py
   |-- migrations
   |   |-- 0001.initial.sql
   |   |-- 0002.change_status_trigger.sql
   |   |-- 0003.category_closure_trigger.sql
   |   |-- 0004.top5last30days.sql
   |   |-- 0005.populate_tables.sql
   |-- repository
   |   |-- exceptions.py
   |   |-- helpers.py
   |   |-- models.py
   |   |-- orders
   |   |   |-- __init__.py
   |   |   |-- exceptions.py
   |   |   |-- models.py
   |   |   |-- repository.py
   |   |-- provider.py
   |   |-- repository.py
   |   |-- repository_controller.py
deployments
   |-- .env
   |-- app
   |   |-- Dockerfile
   |-- docker-compose.dev.yml
pyproject.toml
uv.lock
```
# –ó–∞–ø—É—Å–∫
`make dev-run` - —Å–æ–∑–¥–∞—Ç—å –Ω—É–∂–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç, –∑–∞—Ç–µ–º –∑–∞–π—Ç–∏ –Ω–∞ `localhost:8080/docs`